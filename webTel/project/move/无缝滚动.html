<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>布局转换</title>
<style>
	*{margin: 0; padding: 0;}
	#wrap{
		position: relative;
		border: 1px solid red;
		width: 480px;
		height: 120px;
		margin: 10px auto;
		overflow: hidden;
	}
	#wrap ul{
		position: absolute;
		left: 0;
	}
	#wrap ul li{
		list-style: none;
		width: 100px;
		height: 100px;
		text-align: center;
		line-height: 100px;
		padding: 10px;
		background-color: #ccc;
		float: left;
	}
</style>
<script type="text/javascript" src="move.js"></script>
<script>
	window.onload = function () {
		var wrap = document.getElementById('wrap'),
			oUl = wrap.getElementsByTagName('ul')[0],
			oLi = oUl.getElementsByTagName('li'),
			oA = document.getElementsByTagName('a'),
			timer = null,
			iSpeed = 3;
			// 相当于在复制一遍ul
			oUl.innerHTML += oUl.innerHTML;
			oUl.style.width = oLi.length * oLi[0].offsetWidth 
			+ 'px';
			function fnMove(){
				if(oUl.offsetLeft < -oUl.offsetWidth/2){
					oUl.style.left = 0;
				} else if(oUl.offsetLeft > 0){
					oUl.style.left = -oUl.offsetWidth/2 + 'px';
				}
				oUl.style.left = oUl.offsetLeft + iSpeed + 'px';
			}
			timer = setInterval(fnMove, 50);
			oA[0].onclick = function(){
				iSpeed = -3;
			};
			oA[1].onclick = function(){
				iSpeed = 3;
			};
			wrap.onmouseover = function(){
				clearInterval(timer);
			};	
			wrap.onmouseout = function(){
				timer = setInterval(fnMove, 50);
			};				
	};
</script>
</head>

<body>
	<a href="javascript:;">←</a>
	<a href="javascript:;">→</a>
	<div id="wrap">
		<ul>
			<li>1111111</li>
			<li>2222222</li>
			<li>3333333</li>
			<li>4444444</li>
			<li>5555555</li>
		</ul>
	</div>
</body>
</html>
