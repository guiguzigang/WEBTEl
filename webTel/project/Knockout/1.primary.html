<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>入门</title>
</head>
<body>
	<h3>Meal upgrades</h3>
	<p>Make your flight more bearable by selecting a meal tomatch your socil and economic status.</p>
	Chosen meal: <select data-bind="options: availableMeals, 
									optionsText: 'mealName',
									value: chosenMeal"></select>
	<p>
		You've chosen:
		<b data-bind="text: chosenMeal().description"></b>
		<!-- (price: <span data-bind="text: chosenMeal().extraCost"></span>) -->
		(price: <span data-bind="text: formatPrice(chosenMeal().extraCost)"></span>)
	</p>
	<script src="js/knockout.js"></script>
	<script>
	// 航空旅客可以为他们的旅行升级高级食物套餐，当他们选择一个套餐的时候，页面立即显示套餐的描述和价格。首先，声明可用的套餐:
		var availableMeals = [
		    { mealName: 'Standard', description: 'Dry crusts of bread', extraCost: 0 },
		    { mealName: 'Premium', description: 'Fresh bread with cheese', extraCost: 9.95 },
		    { mealName: 'Deluxe', description: 'Caviar and vintage Dr Pepper', extraCost: 18.50 }
		];
		// 响应选择,声明一个简单的data model来描述旅客已经选择的套餐，添加一个属性到当前的view model上：
		var viewModel = {
			/*we will populate this in a moment*/
			chosenMeal: ko.observable(availableMeals[0])
		};
		// 注意：ko. applyBindings需要在上述HTML之后应用才有效
		ko.applyBindings(viewModel);

		function formatPrice(price){
			return price == 0 ? "Free" : "$" + price.toFixed(2);
		}
	</script>
</body>
</html>